$columnal-grid-width: 980px !default

$yellow: #f6cc47
$green: #219548
$green_hover: #1d8741
$orange: #ffa94b
$mr_green: #219548
$victory: #87c442
$loss: #c44242
$fb_blue: #1F4A8E
$twitter_blue: #359AD8
$gray: #f3f4f4

@import compass/reset
@import columnal/grid
@import colorbox 
@import chosen
@import icomoon
@import font
//@import url('http://fonts.googleapis.com/css?family=PT+Sans:400,700,400italic')
*
  +transition(.2s)

.clear
  clear: both
.hidden
  display: none
.cancel
  background: darken(red, 15%) !important
.campaigns_awaiting_moderation, .my_campaigns, .campaign_info, a[href="#campaigns_list"], .meurio_and_user .user, .logo_and_share .share, section.footer, .tabs, .about p, body.users#show aside, body.campaigns#update aside, body.campaigns#index aside, body.campaigns#new aside, body.campaigns#create aside, body.campaigns#edit aside
  +mobile-hide
section
  +grid-container

.row
  +grid-row


.logo_and_share, .links_and_social, article.wide, .meurio_and_user, section .message, .influencers_list, .highlight .links, .finished_at, body.campaigns#unmoderated article.left
  +grid(12)
  +last

article.right
  +grid(9)
  +last

article.left, .home_link 
  +grid(8)

.highlight .about, .highlight .campaign, form#new_influencer
  +grid(6)

aside.right, .new_campaign_btn
  +grid(4)
  +last
aside.left
  +grid(3)

.list .campaign
  +grid-subcolumn(9, 9)

.list .campaign .image
  +grid-subcolumn(9, 3)

.list .campaign .details
  +grid-subcolumn(9, 6)

article.left .poke, article.left .contact
  +grid-subcolumn(8, 4)

article.right, aside.right, .highlight .campaign, .list .campaign .details, .new_campaign_btn, article.left .contact, .influencers_list
  +last

img
  margin: 0
  +border-radius(0)

hr
  border-top: none
  border-bottom: 1px dashed $orange

.btn
  font-family: "Proxima Nova Bold"
em
  font-family: "Proxima Nova Italic"

body
  font-family: "Proxima Nova", 'Lucida Sans Unicode', 'Lucida Sans', 'Lucida Grande', Verdana, Geneva, sans-serif
  font-size: .9em
  line-height: 1.4em

h1, h2, h3, h4, h4, h5
  font-family: "Proxima Nova Bold"

h1
  font-size: 1.8em
  margin-bottom: .25em

h2
  font-size: 1.6em
  margin-bottom: .5em

h3
  font-size: 1.5em

h4 
  font-size: 1em

strong
  font-weight: bold

p
  margin-bottom: 1em

a
  color: $green
  text-decoration: none
  &:hover
    color: $victory

input, a
  outline: none

label.error
  color: red

input[type='text'], textarea, input[type="email"], input[type="url"]
  outline: none
  border: 2px solid lighten(gray, 40%)
  padding: .6em .5em
  font-size: 1.1em
  color: lighten(gray, 10%)
  &:focus
    border: 2px solid $orange

table
  img
    float: left
  td
    padding: .5em
  tr:nth-child(even)
    background: lighten($yellow, 35%)
  tr:nth-child(odd)
    background: lighten($yellow, 30%)

div.logo a img:hover
  opacity: .8

li.error
  input
    border-color: red

p.inline-errors
  color: red
  font-size: .8em

p.inline-hints
  color: gray
  font-size: .8em

p.inline-hints, p.inline-errors
  margin: 0

.btn
  background: $green
  color: white
  padding: .7em 1.6em
  font-size: 1em
  letter-spacing: 1px
  display: inline-block
  text-transform: uppercase
  width: 80%
  text-align: center
  +transition(.2s)
  +border-radius(4px)
  &:hover
    color: white
    background: #1d8741

ul.formatting
  ol
    list-style: disc
    padding-left: 1.5em
    li
      margin-bottom: .5em
    h4
      font-weight: bold
      margin-right: .4em
      display: inline-block

a[href='#formatting']
  font-size: .8em

article
  &.right
    background: lighten(gray, 48%)
    min-height: 400px
    +box-shadow(inset 1px 0 0 lighten(gray, 35%))
  &.left
    background: white
    padding-bottom: 2em
 
aside
  &.right
    height: 100% !important
    .content
      border-left: 1px solid lighten(gray, 35%)
      padding: 0 1em 1em 1em

.inside
  padding: 1em

section.content
  padding: 1.5em 0

section.header, section.footer
  padding: 1.5em 0

section.notice, section.alert
  .message
    color: white
    &:before
      padding-right: 1em

section.notice
  background: $green
  border-bottom: 1px dashed darken($green, 20%)

section.alert
  background: $orange
  border-bottom: 1px dashed darken($orange, 20%)


a[href="/auth/facebook"]
  text-transform: uppercase
  font-size: .9em !important
  color: white
  padding: 4px 15px
  +border-radius(5px)

a[href="/auth/facebook"]
  background: $fb_blue

.popup
  h1
    line-height: normal
    color: $green
  .buttons
    text-align: center
  .share
    .fb-like
      top: -4px

#cboxContent
  #cboxLoadedContent
    margin-bottom: 0
  #cboxClose
    position: absolute
    top: 0
    right: 0

#email_poke_message, #facebook_poke_message, #twitter_poke_message, #poke_notice
  padding: 1em
  line-height: normal
  h1
  label
    display: none
  textarea
    width: 100%
    +box-sizing("border-box")
  .btn
    width: auto
    border: none
    cursor: pointer
    float: right

#twitter_poke_message
  p
    font-size: 1.5em
    font-style: italic
    color: gray
    margin: 0

section.login
  padding: .4em 0
  line-height: 2.5em
  border-bottom: 1px solid lighten(black, 85%)
  +box-shadow(1px 4px 15px lighten(black, 85%))
  a.fb
    margin: 0 .4em
  .meurio, .user
    color: lighten(gray, 25%)
    font-size: .8em
  .meurio
    +grid(6)
  .user
    text-align: right
    float: right
  ul.current li.me
    padding: .4em
    line-height: 3em
    &:hover
      cursor: pointer
      background: $gray
    &:target
      .options
        display: block
    img
      position: relative
      top: .4em
      margin-right: .4em
    .name
      &::after
        content: "â–¾"
        display: inline-block
        padding-left: .4em

  ul.options
    display: none
    position: absolute
    z-index: 9999
    background: lighten($gray, 2%)
    display: none
    margin-left: -.4em
    +box-shadow(0 1px 2px lighten(gray, 15%))
    li
      text-align: left
      padding: .2em .6em
      border-bottom: 1px solid darken($gray, 10%)
      &:hover
        background: $orange
        color: black
        a
          color: black 
          padding-right: .8em

section.header
  .fb-like
    position: relative
    top: 1.4em
    left: -.8em
  .logo
    +grid(3)
    +grid-suffix(3)
  .create
    +grid(5)
    a
      color: lighten(gray, 28%)
      display: inline-block
      padding: 1.2em
      margin-top: .8em
      border-right: 1px solid lighten(gray, 42%)
      &:hover
        color: $victory
      span
        display: block
        font-weight: bold
        font-size: 1.3em
        color: $green
        margin-bottom: -4px
  .share
    +grid(1)
    +last
    +mobile-hide
section.highlight
  margin-top: -.1em
  background: image-url('bg_highlight.jpg') center top repeat-x
  .counter
    span
      font-size: 3em !important
      float: left
      width: 60%
    .count
      &:before
        font-size: 4em !important
        margin-top: .2em
  .featured
    background: white
    padding: 1.5em
    margin: 2em 0
    overflow: hidden
    +border-radius(4px)
    +box-shadow(1px 1px 2px lighten(black, 65%))
    h1
      color: $green
      font-size: 1.6em
      margin-top: .6em
      margin-bottom: .4em !important
    .is_featured
      background: $orange
      color: white
      width: 30%
      font-size: .8em
      padding: .3em .4em
      font-weight: bol
      +border-radius(4px)
    .category
      font-size: .8em
      &:before
        color: $orange
        margin-right: .5em
    .description
      margin: 1em 0
      font-size: 1em
      line-height: 1.4em
      a
        color: lighten(gray, 5%)
    .count, .poke
      +grid-subcolumn(6,3)
    .poke
      +last
    .about
      +grid(6)
    .image
      +grid(6)
      +last
      height: 32%
      img, iframe
        width: 100%
        display: block
        +box-shadow(0 0 1px lighten(black, 60%))
      iframe
        height: 100%

section.content
  background: $gray
  ol.campaigns
    li.campaign
      background: white
      overflow: hidden
      margin-bottom: 2em
      +grid(3)
      +box-shadow(0 1px 3px #c0c0c0)
      +border-radius(4px)
      .icon-message
        &:before
          position: relative
          top: .2em
      .icon-megaphone
        display: none
      &.not_finished:hover
        .icon-message
          display: none
        .icon-megaphone
          display: block
    p.description
      margin: .5em 0
    h3
      font-size: 1.1em
      height: 4em 
      display: block
    .image, .info
      padding: .8em
    .image, .info
      padding-bottom: 0
    .image
      img
        +box-shadow(0 0 2px darken($gray, 30%))
    .victory, .loss, .pressure
      background: $victory 
      color: white
      text-align: center
      font-size: 1.3em
      font-weight: bold
      padding: .5em
      padding-bottom: .45em
      +border-radius(4px)
      +transition(.4s)
      &:before
        margin-right: .2em
        font-size: 1.2em
        top: .1em
        position: relative
    .pressure
      background: $green
      a
        color: white
      &:hover
        background: $victory
    .loss
      background: $loss
    .counter
      padding: .4em


// General style scopes

span.category
  font-size: .7em
  a
    color: lighten(black, 40%)
  &:before
    color: $orange
    margin-right: .4em
p.description
  font-size: .9em
  line-height: 1.4em
  height: 60px
  margin-top: .4em
  a
    color: darken($gray, 35%)
.counter
  padding-top: 1em
  border-top: 1px solid darken($gray, 10%)
  color: #404040
  .icon-message
    color: darken($gray, 15%)
  span
    display: block
    font-size: 1.8em
    font-family: "Proxima Nova Bold"
    color: black
    font-weight: bold
    line-height: .8em
    margin-bottom: -2px
  font-size: .9em

section.information
  background: darken($gray, 5%)
  .create_your_campaign, .our_victories, .didnt_find_target
    height: 30% 
    margin: 2em 0
    background: white
    +grid(4)
    +box-shadow(0 1px 2px lighten(gray, 30%))
    +border-radius(4px)
    .btn
      width: 83.5%
    .content
      padding: .8em
    h3
      margin: .8em 0
      font-size: 1.3em
      font-weight: bold
    p.description
      height: auto
      font-size: .9em
  .didnt_find_target
    +last


body.campaigns#index, body.campaigns#explore, body.campaigns#unmoderated
  .popular, ol.campaigns li.not_finished
    .counter .icon-message
      padding: .2em
      padding-bottom: .150em
      padding-top: .2em

section.header
  +box-shadow(0 1px 6px lighten(black, 75%))
  margin-bottom: .2em
body.campaigns#index, body.campaigns#unmoderated
  .featured
    .description
      padding: .2em 0 .6em 0
  h2.popular
    margin: .6em 0 1.5em 0
    color: darken(gray, 25%)
    font-weight: bold
    &:before
      color: darken($orange, 5%)
      margin-right: .4em
      top: .2em
      position: relative
  section.index, .popular
    ol.campaigns 
      li.campaign
        &:nth-child(4n+0)
          +last
  .all_campaigns
    form.search
      margin-bottom: 2em
      display: block
      input
        padding: 0
    .block
      +grid(4)
      &.last
        +last
    ol.campaigns
      margin-top: 1em

section.explore
  article.left
    background: $gray
    +grid(9)
  aside.right
    +grid(3)
    +last
    h4
      font-weight: bold
      font-size: 1em
      margin-bottom: 1em
      color: darken(gray, 15%)
  .about
    h3
      font-weight: bold
      margin: 1em 0 .5em 0
      color: darken(gray, 15%)
    span
      color: darken($gray, 30%)
      font-size: 1.1em
      display: inline-block
      margin-bottom: 1em
  ol.campaigns
    li.campaign
      +grid(4)
      &:nth-child(3n+0)
        +last
  ol.categories
    li
      padding: .8em 0
      border-bottom: 1px solid darken($gray, 15%)
      a
        color: lighten(gray, 10%)
        font-size: .9em
      &:hover
        border-bottom: 1px solid $yellow
        a
          color: $orange
    span
      float: right
      background: $yellow
      color: white
      padding: .1em .6em
      font-size: .9em
      display: inline-block
      width: 4% 
      text-align: center
      +border-radius(4px)

body.campaigns#new, body.campaigns#edit, body.campaigns#create
  .content
    .row
      margin-bottom: 1.5em
  h1
    font-weight: bold
    margin-top: 1em 
  small 
    color: darken($gray, 40%)
  input
    width: 60%
  input, textarea
    +border-radius(4px)
    +box-shadow(inset 0 1px 2px gray)
    text-indent: .2em
  input, select
    padding: .2em
    margin-left: .6em
    top: -.1em
    position: relative
  strong, input, textarea
    color: black
    font-family: "Proxima Nova Bold"
  form
    p
      margin: .8em 0
    .charleft
      font-size: .8em
      color: $green
    p.textarea
      margin: 1.2em 0
      label
        display: block
      textarea, input
        width: 98%
        margin-left: 0
      textarea
        height: 80px
    p.phone
      input
        width: 20%
    p.image
      background: white
      padding: .4em
      margin-bottom: 2em 
      overflow: hidden
      img
        float: left
        margin-right: .6em
      a
        display: inline-block
        margin-top: .6em
  p.action
    width: 60%
    margin: 0 auto
    margin-top: 4em
    input, a
      margin-left: 2em
    a
      width: 20%
    input
      color: white
      border: none
      padding: .8em 1.6em 
      top: 1px
      &:hover
        cursor: pointer

body.campaigns#show
  .twitter-share-button
    position: relative
    top: .250em
    left: .8em
  section.header
    +box-shadow(0 1px 6px lighten(black, 75%))
    margin-bottom: .2em
  h1.title, span.category
    color: darken($gray, 75%)
  h1.title
    font-size: 2em
    font-weight: bold
    line-height: 100% 
    margin: 1em 0 .5em 0
  .campaign_menu
    margin-bottom: 1.5em
    span.category, a
      margin-right: 1em
    span.category
      font-size: 1em
      display: inline-block
      color: darken($gray, 55%)
  article.tab, article.share
    background: none
    padding-bottom: .6em
  nav a
    color: lighten(gray, 20%)
    margin: 0 1.6em
    padding: .5em .3em
    +transition(.2s)
    &.selected, &:hover
      color: $green
      border-bottom: 3px solid $green
    &:hover
      border: none
    span.count
      background: $orange
      color: white
      padding: 0 .6em
      font-size: .8em
      margin-left: .4em
      +border-radius(2px)
  .wrap
    padding: 1.8em
    background: white
    height: 100% !important
    overflow: hidden
    +border-radius(4px)
  article.campaign, aside.pressure
  .image
    img,iframe
      +border-radius(4px)
    iframe
      width: 100% !important
      height: 350px !important

  .description
    margin: 1.6em 0
    a
      border-bottom: 1px dotted $green
    p
      font-size: 1.05em !important
      color: darken($gray, 60%)
      line-height: 1.6em
      strong
        color: #333
  .counter, .via_facebook, .via_twitter, .via_email
    background: $gray
    padding: .8em 0
    overflow: hidden
    +border-radius(6px)
  .counter 
    margin-bottom: 1em
    border-top: none
    .count
      padding: .8em

      &:before
        font-size: 4em
        margin-top: .2em
      span  
        font-size: 3em
  .message_link
    text-align: center
    font-size: .8em
    color: lighten(gray, 15%)
    width: 100%
    display: inline-block
    &:hover
      color: $yellow
 
  .poke_buttons
    .text
      margin: 3em 0 1em 0
    .via_facebook, .via_twitter, .via_email
      margin: 1em 0
      .message
        padding: 1.6em
        width: 80%
        display: none
        h4
          text-transform: uppercase
        .text
          color: darken($gray, 40%)
          font-size: .8em
      .btn 
        width: 75%
        margin: 0 auto
        display: block
        background: $fb_blue
        &.disabled
          background: darken($gray, 10%)
          input, span 
            color: lighten(gray, 15%)
            &:hover
              cursor: default
          &:hover 
            background: darken($gray, 20%)
        &:hover
          background: lighten($fb_blue, 5%)
        input
          background: none
          border: none
          color: white
          font-family: "Proxima Nova Bold"
          font-size: 1.2em
          text-transform: uppercase
          margin: 0
          padding: 0
          margin-bottom: -2.5em
          padding-bottom: 2.5em
          &:hover
            cursor: pointer
        span
          font-size: .6em
          font-family: "Proxima Nova Bold"
          text-transform: none
          line-height: .8em
          color: lighten($fb_blue, 40%)
          display: block
      form
        .fields
          padding: 1em
          label
            display: none
          strong
            text-transform: uppercase
            display: block
            text-align: center
          input[type="text"], input[type="email"]
            +border-radius(5px)
            width: 100%
            +box-sizing("border-box")
          .field
            margin-bottom: .5em
    .via_twitter .btn
      background: $twitter_blue
      span
        color: lighten($twitter_blue, 40%)
      &:hover
        background: lighten($twitter_blue, 5%)
    .via_email .btn
      background: darken($gray, 45%) 
      span
        color: darken($gray, 10%)
      &:hover
        background: darken($gray, 40%)

  .targets, .supporters, .pokers
    margin-bottom: 1em
    overflow: hidden
    h3
      border: 1px solid $gray 
      border-bottom: none
      padding: .8em
      font-size: 1.1em
      font-weight: bold
      span
        color: $orange
      &:before
        color: darken($gray, 30%)
        margin-right: .4em
        font-size: 1.2em
        position: relative
        top: .192em
    .content
      border: 1px solid $gray 
      padding-top: 1em
    img
      float: left
      +transition(.4s)
      &:hover
        opacity: .7
    .social a
      display: inline-block
      margin-right: .4em
  .target
    margin-bottom: .8em
  .icon-twitter
    color: $twitter_blue
  .icon_facebook
    color: $fb_blue
  .icon-mail
    color: gray
  .targets img, .supporters img
    padding-right: .4em
  .targets .role
    font-size: .7em
    color: lighten(gray, 10%)
    line-height: 1em

  .pokers
    li
      float: left
      img
        border: 1px solid white
        &:hover
          border: 1px solid $orange
    li.who_pokes
    .content
      overflow: hidden
    .the_others
      font-weight: bold
      line-height: 3.5em
      text-align: center
      width: 100%
      &:before
        content: "+"
        margin-left: .4em

body.users#show 
  .content
    padding-bottom: 2em
    overflow: hidden
  .profile
    margin-top: 1.5em
  h1
    font-weight: bold
    font-size: 2.2em
    margin-top: .5em
  aside.left
    img
      +box-shadow(0 0 3px black)
      margin-bottom: .6em
    img, p, input, textarea
      width: 90%
    h3
      margin: 1em 0 .2em 0
      font-size: 1em
      color: darken($gray, 65%)
    p
      background: white
      padding: .2em
      color: gray
    p, img
      +border-radius(4px)
    input, textarea
      font-size: .9em
      &:hover
        color: black

  article.right
    background: none
    +box-shadow(none)
    li.campaign
      +grid-subcolumn(9, 3)
      &:nth-child(3n-0)
        +last
    h2
      font-weight: bold
      margin-bottom: 1.2em
      color: darken($gray, 75%)
      font-size: 1.4em
  ol.timeline
    li
      background: white
      padding: 1.6em 1.2em
      border-bottom: 1px solid $gray

      &:hover
        background: lighten($orange, 34%)
      &:before
        font-size: 2.5em
        color: $orange
        width: 6%
    h4, li:before 
      display: inline-block
      margin-right: .3em
    span
      color: darken($gray, 35%)
      text-transform: lowercase

body.influencers#index
  .influencers_list
    margin-bottom: 2em
    table
      width: 100%
      img
        width: 25px
    .icon-twitter, .icon-facebook
      display: block
      float: left
      margin-right: .5em

body.influencers#new, body.influencers#create
  input[type='text'], input[type='email'], input[type="url"]
    +box-sizing("border-box")
    width: 100%
  li.input, .btn
    margin-bottom: 2em


body.pages#about
  h1
    margin: 1em 0
    +grid-prefix(3)
    +grid(6)
    +grid-suffix(3)
    text-align: center
    font-size: 3.5em
    font-weight: bold
    line-height: 100%
  .content
    padding-bottom: 6em
    h2
      font-weight: bold
    h2.special
      color: $green
      font-size: 3em
      line-height: 100%
      font-weight: bold
      +grid-subcolumn(6,5)
    .content
      background: white
      overflow: hidden
      padding: .2em 0
      padding-top: 1.5em
      +border-radius(4px)
    .image, .text
      margin: 1em 0
    .image
      +grid-prefix(1)
      +grid(3)
    .text
      line-height: 1.6em
      margin-top: 2em
      +grid-suffix(1)
      +grid(7)
      +last
  .campaign_btn
    margin-top: 1em
    +grid-prefix(3)
    +grid(6)
    +grid-suffix(3)
  


section.footer
  background: darken($gray, 5%)
  .links, .newsletter, .social
    h4
      text-transform: uppercase
      color: darken($gray, 55%)
      margin: 1em 0
  .links 
    +grid(6)
  .social, .newsletter
    +grid(3)
  .newsletter
    +last
  .links li
    font-size: .9em
    display: inline-block
    width: 50%
